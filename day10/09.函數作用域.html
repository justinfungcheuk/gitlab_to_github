<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title></title>
    <script type="text/javascript">
        /*
         * 函數作用域
         * - 調用函數時創建函數作用域, 函數執行完畢以後, 函數作用域銷毀
         * - 每調用一次函數就會創建一個新的函數作用域, 他們之間是互相獨立的
         * - 在函數作用域中可以訪問到全局作用域的變量, 
         *     在全局作用域中無法訪問到函數作用域的變量
         * - 當在函數作用域操作一個變量時, 它會先在自身作用域中尋找, 有就直接使用, 
         *     如果沒有則向上一級作用域中尋找, 直到找到全局作用域.
         *     如果全局作用域中依然沒有找到, 則會報錯ReferenceError
         * - 在函數中要訪問全局變量可以使用window對象
         * 
         */

        // 創建一個變量.  如果全局作用域中依然沒有找到, 則會報錯ReferenceError
        var a = 10; //這是一個全局變量, 也就是說它是在一個全局作用域裡

        function fun() {

            var a = "我是fun函數中的變量a"; // 當在函數作用域操作一個變量時, 它會先在自身作用域中尋找, 有就直接使用, 如果沒有則向上一級作用域中尋找
            var b = 20; // 在全局作用域中無法訪問到函數作用域的變量

            // console.log(a);
            // console.log("a = " + a); // 在函數作用域中可以訪問到全局作用域的變量

            function fun2() {
                console.log("a= " + window.a); // 在函數中要訪問全局變量可以使用window對象
            }

            fun2();

        }


        // fun(); // 調用函數時創建函數作用域, 函數執行完畢以後, 函數作用域銷毀
        // fun(); // 每調用一次函數就會創建一個新的函數作用域, 他們之間是互相獨立的

        //console.log("b = " + b); // 在全局作用域中無法訪問到函數作用域的變量
        //console.log("a = " + a);

        /*
         * 在函數作用域也有聲明提前的特性.
         *  使用var 關鍵字聲明的變量, 會在函數中所有的代碼執行之前被聲明
         *  函數聲明也會在函數中所有的代碼執行之前執行
         */

        function fun3() {
            fun4(); //函數聲明也會在函數中所有的代碼執行之前執行
            // var a; 有a, 但是沒有賦值, 也會出現 undefined
            // console.log(a); // 使用var 關鍵字聲明的變量, 會在函數中所有的代碼執行之前被聲明
            var a = 35;

            function fun4() {
                alert("我是fun4");

            }

        }

        // fun3();

        var c = 33;

        /*
         * 在函數中, 不使用 var 聲明的變量都會成為全局變量
         *
         */
        function fun5() {
            //console.log("c = "+c);
            //c = 10; // 在函數中, 不使用 var 聲明的變量都會成為全局變量


            //d沒有使用var關鍵字, 則會設置為全局變量
            d = 100; // 這個是相當於 window.d =100;
        }

        fun5();

        //在全局輸出C
        //console.log("d = " + d);

        var e = 23;

        /*
         * 定義形參就相當於在函數作用域中聲明了變量
         * 但是要在最後的 fun6() 的括號裡面賦值, 否則會出現 undefined
         */
        function fun6(e) {
            alert(e);
        }

        fun6();
    </script>
</head>

</html>