<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title></title>
    <!--
        如果需要兼容 IE7 及以下的 JSON 操作, 則可以通過引入一個外部的 js 文件來處理
    -->
    <script type="text/javascript" src="js/json2.js"></script>
    <script type="text/javascript">

        /*
         * JSON
         * - JS 中的對象只有 JS 自己認識, 其他的語言都不認識
         * - JSON 就是一個特殊格式的字符串, 這個字符串可以被任意的語言所識別！！！！！
         *    並且可以轉換為任意語言中的對象, JSON 在開發中主要用來數據的交互和傳遞！！！！
         * 
         * - JSON 的意思如下：
         *   - Javascript Object Notation （JS對象表示法）
         *   - JSON 和 JS 對象的格式一樣, 只不過 JSON 字符串中的屬性名必須加雙引號 "" 例如："name":"孫悟空"
         *      其他的和 JS 語法一致
         * 
         *   JSON 分類: (有兩種分類)
         *    第一種: 對象 {} 使用大闊號 例如：var obj = '{"name":"孫悟空", "age":18, "gender":"男"}';
         *    第二種: 數組 [] 使用中闊號 例如：var arr = '[1,2,3,"hello",true]';
         * 
         * JSON 中允許的值: 只有以下六種, 不允許函數
         *        1. 字符串
         *        2. 數值
         *        3. 布爾值
         *        4. null
         *        5. 對象
         *        6. 數組 
         */

        //創建一個對象
        var obj = '{"name":"孫悟空", "age":18, "gender":"男"}'; // string 字符串 - 屬性名必須加上 雙引號

        var arr = '[1,2,3,"hello",true]';

        var obj2 = '{"arr":[1,2,3]}';

        var arr2 = '[{"name":"孫悟空", "age":18, "gender":"男"},{"name":"孫悟空", "age":18, "gender":"男"}]'; // 這是一個 JSON數組，數組裡面保存2個對象

        /*
         * 將 JSON 字符串轉換為 JS 中的對象
         *  在 JS 中, 為我們提供了一個工具類, 就叫 JSON
         *  這個對象可以幫助我們將一個 JSON 轉換為 JS 對象, 也可以將一個 JS 對象轉換為 JSON
         */

        var json = '{"name":"孫悟空", "age":18, "gender":"男"}';

        /*
         * json --> js 對象
         * JSON.parse()
         *  - 可以將一個 JSON字符串 轉換為 js對象
         *  - 它需要一個 JSON字符串 作為參數, 會將該字符串轉換為 JS對象 並返回
         */

        var o = JSON.parse(json);
        var o2 = JSON.parse(arr);

        //console.log(o.age);
        //console.log(o2[1]);

        var obj3 = { name: "豬八戒", age: 28, gender: "男" };

        /*
         * JS 對象 ---> JSON
         *  JSON.stringify()
         *          - 可以將一個 JS 對象轉換為 JSON 字符串
         *          - 需要一個 js對象 作為參數, 會返回一個 JSON字符串
         */

        var str = JSON.stringify(obj3);
        //console.log(str);

        /*
         * JSON 這個對象在 IE7 以下的瀏覽器中不支持, 所以在這些瀏覽器中調用時會報錯
         */

         var str3 = '{"name":"孫悟空", "age":18, "gender":"男"}'; //必須注意格式和符號 "" 是必須加上符號的

         JSON.parse(str3);

    </script>
</head>

</html>